utility funtion of version 3

